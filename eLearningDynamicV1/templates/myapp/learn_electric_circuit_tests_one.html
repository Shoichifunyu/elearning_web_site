<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FunyuSpace!!</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/css/bootstrap.min.css" integrity="sha384-r4NyP46KrjDleawBgD5tp8Y7UzmLA05oM1iAEQ17CSuDqnUK2+k9luXQOfXJCJ4I" crossorigin="anonymous">
    <link href="design.css" rel="stylesheet" type="text/css">
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/js/bootstrap.min.js" integrity="sha384-oesi62hOLfzrys4LxRF63OJCXdXDipiYWBnvTl9Y9/TRlw5xlKIEHpNyvvDShgf/" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.7.0.js" integrity="sha256-JlqSTELeR4TLqP0OG9dxM7yDPqX1ox/HfgiSLBj8+kM=" crossorigin="anonymous"></script>
  </head>

  <body>
    <div class="container">
      <div class="row">
        <div class="col-md-3">
          <nav class="navbar navbar-expand-md navbar-light bg-light">
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="sidebarMenu">
            <ul class="navbar-nav flex-column">
              <li class="nav-item">
                <a class="nav-link" href="./learn_electric_circuit.html">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>
                  <span class="ml-2">目次</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="./learn_electric_circuit_contents_one.html">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>
                  <span class="ml-2">学習①</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="./learn_electric_circuit_tests_one.html">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>
                  <span class="ml-2">テスト①</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="./learn_electric_circuit_contents_two.html">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>
                  <span class="ml-2">学習②</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="./learn_electric_circuit_tests_two.html">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>
                  <span class="ml-2">テスト②</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="./construction_view.html">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>
                  <span class="ml-2">学習③</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="./construction_view.html">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>
                  <span class="ml-2">テスト③</span>
                </a>
              </li>
            </ul>
          </div>
        </nav>
        </div>
        <div class="col-md-9">
            <h2>テスト</h2>
            <p>それではテストです。</p>

            <div class="container">
              <div class="countdown">
                <h6 class="countdown-title">制限時間
                  <span id="year" class="new-year"></span>
                </h6>
                <div class="time-container">
                  <p class="time"><span id="minutes" class="time-num">01</span>minutes</p>
                  <p class="time"><span id="seconds" class="time-num">00</span>seconds</p>
                </div>
              </div>
            </div>
            <!-- ボタンコントロール部分 -->
            <div id="controls">
              <div class="box">
                <button id="start">スタート</button>
              </div>
            </div>
            
            
            <h4>テスト1</h4>
            <p>あるエネルギーを他の形態に変換しても、その総量は変化しないことを何というか？</p>
            <select id="select01">
              <option value="value01">レンツの法則</option>
              <option value="value02">オームの法則</option>
              <option value="value03">エネルギー保存の法則</option>
              <option value="value04">エネルギー変換の法則</option>
            </select>

            <button id="select_btn1" type="button" class="btn btn-primary" data-modal-title="modal-1">
              回答
            </button><br>

            <!-- モーダルウィンドウを起動するボタン -->
            <label class="ECM_CheckboxInput"><input class="ECM_CheckboxInput-Input" type="checkbox" id="checkElement1" disabled="disabled"><span class="ECM_CheckboxInput-DummyInput"></span><span class="ECM_CheckboxInput-LabelText"></span>正答</label>
            
            <div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel1">Modal title</h5>
                  </div>
                  <div class="modal-body" id="exampleModalBody1">
                    ...
                  </div>
                </div>
              </div>
            </div>
          
            <h4>テスト2</h4>
            <p>1[A]の電流の定義を次のうちから選択せよ</p>
            <select id="select02">
              <option value="value01">ある断面を1[s（秒）]の間に1[A]の電流が通過すること</option>
              <option value="value02">ある断面を1[s（秒）]の間に1[V]の電圧が通過すること</option>
              <option value="value03">1平方メートルの断面を1[C]の電荷が通過すること</option>
              <option value="value04">ある断面を1[s（秒）]の間に1[C]の電荷が通過すること</option>
            </select>

            <button id="select_btn2" type="button" class="btn btn-primary" data-modal-title="modal-2">
              回答
            </button><br>

            <!-- モーダルウィンドウを起動するボタン -->
            <label class="ECM_CheckboxInput"><input class="ECM_CheckboxInput-Input" type="checkbox" id="checkElement2" disabled="disabled"><span class="ECM_CheckboxInput-DummyInput"></span><span class="ECM_CheckboxInput-LabelText"></span>正答</label>
            
            <div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel2">Modal title</h5>
                  </div>
                  <div class="modal-body" id="exampleModalBody2">
                    ...
                  </div>
                </div>
              </div>
            </div>
          
            <h4>テスト3</h4>
            <p>1[V]の電流の定義を次のうちから選択せよ</p>
            <select id="select03">
              <option value="value01">1[C]の電荷を2点間移動させるために1[J]の仕事が必要だった時のその2点間の電圧のこと</option>
              <option value="value02">1[C]の電荷を2点間移動させるために1[W]の電力が必要だった時のその2点間の電圧のこと</option>
              <option value="value03">1[A]の電流を2点間移動させるために1[J]の仕事が必要だった時のその2点間の電圧のこと</option>
              <option value="value04">1[A]の電流を2点間移動させるために1[W]の電力が必要だった時のその2点間の電圧のこと</option>
            </select>

            <button id="select_btn3" type="button" class="btn btn-primary" data-modal-title="modal-3">
              回答
            </button><br>

            <!-- モーダルウィンドウを起動するボタン -->
            <label class="ECM_CheckboxInput"><input class="ECM_CheckboxInput-Input" type="checkbox" id="checkElement3" disabled="disabled"><span class="ECM_CheckboxInput-DummyInput"></span><span class="ECM_CheckboxInput-LabelText"></span>正答</label>
            
            <div class="modal fade" id="exampleModal3" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel3">Modal title</h5>
                  </div>
                  <div class="modal-body" id="exampleModalBody3">
                    ...
                  </div>
                </div>
              </div>
            </div>
          
            <h4>テスト4</h4>
            <p>電気を通しやすい導体であっても、多少は電流の流れを妨げる性質があるが、これを表した表現のうち、正しくないものを選べ</p>
            <select id="select04">
              <option value="value01">電気抵抗</option>
              <option value="value02">抵抗</option>
              <option value="value03">レジスタンス</option>
              <option value="value04">原子</option>
            </select>

            <button id="select_btn4" type="button" class="btn btn-primary" data-modal-title="modal-4">
              回答
            </button><br>

            <!-- モーダルウィンドウを起動するボタン -->
            <label class="ECM_CheckboxInput"><input class="ECM_CheckboxInput-Input" type="checkbox" id="checkElement4" disabled="disabled"><span class="ECM_CheckboxInput-DummyInput"></span><span class="ECM_CheckboxInput-LabelText"></span>正答</label>
            
            <div class="modal fade" id="exampleModal4" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel4">Modal title</h5>
                  </div>
                  <div class="modal-body" id="exampleModalBody4">
                    ...
                  </div>
                </div>
              </div>
            </div>
          
            <h4>テスト5</h4>
            <p>電圧、抵抗と電流の関係を表した表現を選べ</p>
            <select id="select05">
              <option value="value01">導体を流れる電流I[A]は、電圧V[V]に反比例し、電気抵抗R[Ω]に反比例する</option>
              <option value="value02">導体を流れる電流I[A]は、電圧V[V]に比例し、電気抵抗R[Ω]に反比例する</option>
              <option value="value03">導体を流れる電流I[A]は、電圧V[V]に比例し、電気抵抗R[Ω]に比例する</option>
              <option value="value04">導体を流れる電流I[A]は、電圧V[V]に反比例し、電気抵抗R[Ω]に比例する</option>
            </select>

            <button id="select_btn5" type="button" class="btn btn-primary" data-modal-title="modal-5">
              回答
            </button><br>

            <!-- モーダルウィンドウを起動するボタン -->
            <label class="ECM_CheckboxInput"><input class="ECM_CheckboxInput-Input" type="checkbox" id="checkElement5" disabled="disabled"><span class="ECM_CheckboxInput-DummyInput"></span><span class="ECM_CheckboxInput-LabelText"></span>正答</label>
            
            <div class="modal fade" id="exampleModal5" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel5">Modal title</h5>
                  </div>
                  <div class="modal-body" id="exampleModalBody5">
                    ...
                  </div>
                </div>
              </div>
            </div>
          
            <div class="modal fade" id="exampleModalCntDwn" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabelCntDwn">Modal title</h5>
                  </div>
                  <div class="modal-body" id="exampleModalBodyCntDwn">
                    ...
                  </div>
                </div>
              </div>
            </div>
        </div>
    </div>
  </div>
  
  <script>
  let myModalCntDwn = new bootstrap.Modal(document.getElementById('exampleModalCntDwn'), {})
  let btnCntDwn = document.getElementById("select_btn_cnt_dwn")
  let elementCntDwn = document.getElementById("selectCntDwn")
  let modalTitleCntDwn = document.getElementById('exampleModalLabelCntDwn')
  let modalBodyCntDwn = document.getElementById('exampleModalBodyCntDwn')
  let selectedValueCntDwn = $('#selectCntDwn option:selected').text();
  // 要調整
  let totalScore = 5;
  let scoreCnt = 0;

  //即時関数
  (function () {
  let timer = document.getElementById('timer');
  let start = document.getElementById('start');

  // スタートタイムを押した時の時間を入れる変数
  let startTime;
  let diff = 0;

  // 残り時間を計算するための変数
  let timeLeft;

  // 現在時刻と表示形式を合わせるために * 1000
  let timeToCountDown = 60000;

  // clearTimeoutメソッドを使いたいので、その時用に変数定義
  let timerId;

  // カウントダウンの状態を管理できるようにする
  let isRunning = false;

  // 要素を取得
  const minutes = document.getElementById('minutes');
  const seconds = document.getElementById('seconds');

  // 残り時間を表示するために、ミリ秒を渡すと、分や秒に直してくれる関数
  function updateTimer(t) {

    // 引数として渡されたtでデータオブジェクトを作りたいので変数dという変数名で作ってみる
    let d = new Date(t);
    let m = d.getMinutes();
    let s = d.getSeconds();

    // 取得した時間をDOMに追加
    minutes.innerText = m < 10 ? '0' + m : m;
    seconds.innerText = s < 10 ? '0' + s : s;
  }


  function countDown() {

    // 10ミリ秒後に実行する
    timerId = setTimeout(function () {

        // 残り時間 = カウントされる時間 - 現在時刻
        timeLeft = timeToCountDown - (Date.now() - startTime);

        // 残り時間が0になった時の処理
        if (timeLeft < 0) {
            isRunning = false;
            start.textContent = 'スタート';
            clearTimeout(timerId);
            timeLeft = 0;

            timeToCountDown = 0;

            modalTitleCntDwn.textContent = "時間切れ"
            modalBodyCntDwn.textContent = `全${totalScore}問中${scoreCnt}問正解！`
            myModalCntDwn.show()
            updateTimer(timeLeft);

            return;
        }

        // countDownを再帰的に呼び出すために記述
        updateTimer(timeLeft)
        countDown();

    }, 10);
  }

  // スタートを押したときの処理
  start.addEventListener('click', function () {

  if (isRunning === false) {
      isRunning = true;

      start.textContent = 'ストップ';
      
      startTime = Date.now();

      // カウントダウンの機能は再帰的に実行
      countDown();
  } else {
      isRunning = false;

      // 表記をStartに戻す
      start.textContent = 'スタート';

      // この時点のtimeLeftで更新してあげる
      timeToCountDown = timeLeft;

      // カウントを止めたいのでclearTimeoutする
      clearTimeout(timerId);
  }
  });
})();
  
    let myModal1 = new bootstrap.Modal(document.getElementById('exampleModal1'), {})
    let btn1 = document.getElementById("select_btn1")
    let element1 = document.getElementById("select01")
    let modalTitle1 = document.getElementById('exampleModalLabel1')
    let modalBody1 = document.getElementById('exampleModalBody1')
    let selectedValue1 = $('#select01 option:selected').text();
  
    let myModal2 = new bootstrap.Modal(document.getElementById('exampleModal2'), {})
    let btn2 = document.getElementById("select_btn2")
    let element2 = document.getElementById("select02")
    let modalTitle2 = document.getElementById('exampleModalLabel2')
    let modalBody2 = document.getElementById('exampleModalBody2')
    let selectedValue2 = $('#select02 option:selected').text();
  
    let myModal3 = new bootstrap.Modal(document.getElementById('exampleModal3'), {})
    let btn3 = document.getElementById("select_btn3")
    let element3 = document.getElementById("select03")
    let modalTitle3 = document.getElementById('exampleModalLabel3')
    let modalBody3 = document.getElementById('exampleModalBody3')
    let selectedValue3 = $('#select03 option:selected').text();
  
    let myModal4 = new bootstrap.Modal(document.getElementById('exampleModal4'), {})
    let btn4 = document.getElementById("select_btn4")
    let element4 = document.getElementById("select04")
    let modalTitle4 = document.getElementById('exampleModalLabel4')
    let modalBody4 = document.getElementById('exampleModalBody4')
    let selectedValue4 = $('#select04 option:selected').text();
  
    let myModal5 = new bootstrap.Modal(document.getElementById('exampleModal5'), {})
    let btn5 = document.getElementById("select_btn5")
    let element5 = document.getElementById("select05")
    let modalTitle5 = document.getElementById('exampleModalLabel5')
    let modalBody5 = document.getElementById('exampleModalBody5')
    let selectedValue5 = $('#select05 option:selected').text();
  
  
    $('#select01').change(function() {
      console.log("changed value" + $('#select01 option:selected').text())
      selectedValue1 = $('#select01 option:selected').text();
    })
    btn1.addEventListener('click', (e) => {
      if (selectedValue1 === "エネルギー保存の法則") {
        modalTitle1.textContent = "正解！"
        modalBody1.textContent = ""
        checkElement1.disabled = false;
        checkElement1.checked = true;
        checkElement1.disabled = true;
        scoreCnt += 1;
      } else {
        modalTitle1.textContent = "不正解！"
        modalBody1.textContent = ""
        checkElement1.disabled = false;
        checkElement1.checked = false;
        checkElement1.disabled = true;
        scoreCnt -= 1;
      }
      myModal1.show()
    })
  
    $('#select02').change(function() {
      console.log("changed value" + $('#select02 option:selected').text())
      selectedValue2 = $('#select02 option:selected').text();
    })
    btn2.addEventListener('click', (e) => {
      if (selectedValue2 === "ある断面を1[s（秒）]の間に1[C]の電荷が通過すること") {
        modalTitle2.textContent = "正解！"
        modalBody2.textContent = "導線を流れる電流の大きさは、導線の断面を通過する電荷の量として定義されている。一定時間の間にどれだけの電荷が移動したかということだ。"
        checkElement2.disabled = false;
        checkElement2.checked = true;
        checkElement2.disabled = true;
        scoreCnt += 1;
      } else {
        modalTitle2.textContent = "不正解！"
        modalBody2.textContent = ""
        checkElement2.disabled = false;
        checkElement2.checked = false;
        checkElement2.disabled = true;
        scoreCnt -= 1;
      }
      myModal2.show()
    })
  
    $('#select03').change(function() {
      console.log("changed value" + $('#select03 option:selected').text())
      selectedValue3 = $('#select03 option:selected').text();
    })
    btn3.addEventListener('click', (e) => {
      if (selectedValue3 === "1[C]の電荷を2点間移動させるために1[J]の仕事が必要だった時のその2点間の電圧のこと") {
        modalTitle3.textContent = "正解！"
        modalBody3.textContent = "まず[J(ジュール)]はエネルギーや仕事の単位であり、量記号には「W」が使われる。1[N(ニュートン)]の力で物体を1[m]移動させる仕事の量が1[J]だ。1[J]とは、地球上で約102[g]の重さのものを1[m]持ち上げる仕事の量に相当する。"
        checkElement3.disabled = false;
        checkElement3.checked = true;
        checkElement3.disabled = true;
        scoreCnt += 1;
      } else {
        modalTitle3.textContent = "不正解！"
        modalBody3.textContent = ""
        checkElement3.disabled = false;
        checkElement3.checked = false;
        checkElement3.disabled = true;
        scoreCnt -= 1;
      }
      myModal3.show()
    })
  
    $('#select04').change(function() {
      console.log("changed value" + $('#select04 option:selected').text())
      selectedValue4 = $('#select04 option:selected').text();
    })
    btn4.addEventListener('click', (e) => {
      if (selectedValue4 === "原子") {
        modalTitle4.textContent = "正解！"
        modalBody4.textContent = "これを電気抵抗といい、略して単に抵抗ということが多く、レジスタンスともいう。電気抵抗の量記号は「R」で、単位には[Ω（オーム）]が使われる。"
        checkElement4.disabled = false;
        checkElement4.checked = true;
        checkElement4.disabled = true;
        scoreCnt += 1;
      } else {
        modalTitle4.textContent = "不正解！"
        modalBody4.textContent = ""
        checkElement4.disabled = false;
        checkElement4.checked = false;
        checkElement4.disabled = true;
        scoreCnt -= 1;
      }
      myModal4.show()
    })
  
    $('#select05').change(function() {
      console.log("changed value" + $('#select05 option:selected').text())
      selectedValue5 = $('#select05 option:selected').text();
    })
    btn5.addEventListener('click', (e) => {
      if (selectedValue5 === "導体を流れる電流I[A]は、電圧V[V]に比例し、電気抵抗R[Ω]に反比例する") {
        modalTitle5.textContent = "正解！"
        modalBody5.textContent = "これをオームの法則といい、V=IRの式であらわされる。"
        checkElement5.disabled = false;
        checkElement5.checked = true;
        checkElement5.disabled = true;
        scoreCnt += 1;
      } else {
        modalTitle5.textContent = "不正解！"
        modalBody5.textContent = ""
        checkElement5.disabled = false;
        checkElement5.checked = false;
        checkElement5.disabled = true;
        scoreCnt -= 1;
      }
      myModal5.show()
    })
  
  </script>
</body>